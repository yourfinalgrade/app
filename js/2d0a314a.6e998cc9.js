(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0a314a"],{"013f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"flex flex-center"},[s("div",{staticClass:"row",staticStyle:{width:"390px","max-width":"90%"}},[s("div",{staticClass:"col-12"},[s("q-input",{attrs:{label:t.$t("username")},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("div",{staticClass:"col-12"},[s("q-input",{attrs:{label:t.$t("password"),type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.creatingAccount?s("div",{staticClass:"col-12"},[s("q-input",{attrs:{label:t.$t("display_name")},model:{value:t.displayName,callback:function(e){t.displayName=e},expression:"displayName"}})],1):t._e(),s("hr"),s("div",{staticClass:"col-12 row"},[s("div",{staticClass:"col"},[s("q-btn",{attrs:{label:t.creatingAccount?t.$t("create_account"):t.$t("signin"),color:"primary",disable:!(0!==t.username.length&&0!==t.password.length&&!t.creatingAccount)&&0===t.displayName.length},on:{click:function(e){t.creatingAccount?t.signup():t.signin()}}})],1),s("q-btn",{attrs:{label:t.creatingAccount?t.$t("already_have_account"):t.$t("need_an_account"),color:"secondary"},on:{click:function(e){t.creatingAccount=!t.creatingAccount}}})],1),s("div",{staticClass:"col-12"},[s("hr",{staticStyle:{"margin-top":"60px","margin-bottom":"60px"}}),s("div",{staticClass:"row justify-center"},[s("q-btn",{attrs:{outline:"",color:"primary",label:t.$t("or_continue_without_account")},on:{click:t.continueWithoutAccount}})],1),s("p",{staticClass:"text-center text-caption",staticStyle:{"margin-top":"20px"}},[t._v("\n                "+t._s(t.$t("continue_without_account_notice"))+"\n            ")])])])])},n=[],r=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("c47a")),c=s.n(r),i=s("2f62"),o=s("2a19"),u=s("758b");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function p(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(s,!0).forEach((function(e){c()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={name:"Login",data:function(){return{username:"",password:"",displayName:"",creatingAccount:!1}},methods:p({},Object(i["b"])(["setPageTitle"]),{signin:function(){var t=this;u["a"].post("/",{requestType:"login",username:this.username,password:this.password}).then((function(e){return t.$store.dispatch("setSessionDoc",e.data).then(t.$router.push("/")),e})).then((function(t){return u["a"].post("/",{sessionKey:t.data.sessionKey,requestType:"userDetails"})})).then((function(e){t.$store.dispatch("setDisplayName",e.data)})).catch((function(e){switch(e.response.status){case 400:o["a"].create({message:t.$t("try_different_username"),timeout:2e3,color:"red"});break;case 403:o["a"].create({message:t.$t("invalid_credentials"),timeout:200,color:"red"});break;default:break}}))},signup:function(){var t=this;u["a"].post("/",{requestType:"signup",username:this.username,password:this.password,displayName:this.displayName}).then((function(e){return t.$store.dispatch("setSessionDoc",e.data).then(t.$router.push("/")),e})).then((function(t){return u["a"].post("/",{sessionKey:t.data.sessionKey,requestType:"userDetails"})})).then((function(e){t.$store.dispatch("setDisplayName",e.data)})).catch((function(e){switch(e.response.status){case 400:o["a"].create({message:t.$t("try_different_username"),timeout:2e3,color:"red"});break;case 403:o["a"].create({message:t.$t("invalid_credentials"),timeout:200,color:"red"});break;default:break}}))},continueWithoutAccount:function(){this.$store.dispatch("setSessionDoc",{sessionKey:"unregistered"}).then(this.$router.push("/")),this.$store.dispatch("setDisplayName",{displayName:"Unregistered User"})}}),computed:p({},Object(i["c"])(["getLocale"])),mounted:function(){this.setPageTitle({name:this.$t("your_final_grade")})},watch:{getLocale:function(t){this.setPageTitle({name:this.$t("your_final_grade")})}}},h=d,m=s("2877"),f=s("fe09"),g=Object(m["a"])(h,a,n,!1,null,"527e2c2e",null);e["default"]=g.exports;g.options.components=Object.assign({QPage:f["u"],QInput:f["n"],QBtn:f["c"]},g.options.components||{})}}]);